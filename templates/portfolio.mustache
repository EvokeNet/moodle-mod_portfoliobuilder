<div class="mb-3">
    <a class="btn btn-primary"
       href="{{config.wwwroot}}/mod/portfoliobuilder/index.php?id={{courseid}}">
        <i class="fa fa-angle-left"></i> Back to portfolios
    </a>
</div>

<div class="portfolio-header mx-0 d-flex align-items-center p-2 rounded border">
    <div class="user-image">
        <img class="rounded-circle border mw-100" src="{{userimage}}" alt="{{userfullname}}">
    </div>

    <div class="user-info ml-2">
        <h2>{{userfullname}}</h2>
        <p class="mb-0">Hello, this is my portfolio!</p>
    </div>
</div>

{{#hasentries}}
    {{{entries}}}
{{/hasentries}}
{{^hasentries}}
    <div class="alert alert-info" role="alert">
        <h4 class="alert-heading">Portfolio empty!</h4>
        <hr>
        <p class="mb-0">There are no entries for this portfolio yet, please back later.</p>
    </div>
{{/hasentries}}

{{#js}}
    require([
        'jquery',
        'mod_portfoliobuilder/sweetalert',
        'mod_portfoliobuilder/togglelike',
        'mod_portfoliobuilder/tribute_init',
        'mod_portfoliobuilder/comment/add',
        'mod_portfoliobuilder/comment/edit'
    ], function($, Swal, ToggleLike, TributeInit, AddComment, EditComment) {
        TributeInit.init();

        AddComment.init();

        EditComment.init({{{contextid}}});

        ToggleLike.init();

        $('.carousel').carousel({
            interval: 5000,
            pause: 'hover'
        });

        $("#share-url").click(function(event) {
            event.preventDefault();

            navigator.clipboard.writeText(event.currentTarget.href);

            var Toast = Swal.mixin({
                toast: true,
                position: 'top-end',
                showConfirmButton: false,
                timer: 8000,
                timerProgressBar: true,
                onOpen: (toast) => {
                    toast.addEventListener('mouseenter', Swal.stopTimer);
                    toast.addEventListener('mouseleave', Swal.resumeTimer);
                }
            });

            Toast.fire({
                icon: 'success',
                title: '{{#str}}linkccopiedtoclipboard, mod_portfoliobuilder{{/str}}'
            });
        });
    });
{{/js}}